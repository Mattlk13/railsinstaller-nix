<project>
    <shortName>riosx</shortName>
    <fullName>Rails Installer OSX</fullName>
    <version>0.9.1</version>
    <wrapLicenseFileText>0</wrapLicenseFileText>
    <allowLanguageSelection>1</allowLanguageSelection>
    <componentList>
        <component>
            <name>default</name>
            <description>RIX Installer</description>
            <canBeEdited>0</canBeEdited>
            <selected>1</selected>
            <show>0</show>
            <folderList>
                <folder>
                    <description>Uninstaller</description>
                    <destination>/opt/rix</destination>
                    <name>programfiles_installer</name>
                    <platforms>all</platforms>
                    <shortcutList>
                        <shortcut>
                            <comment>Uninstall</comment>
                            <exec>/opt/rix/${uninstallerName}</exec>
                            <icon></icon>
                            <name>Uninstall ${product_fullname}</name>
                            <path>/opt/rix</path>
                            <platforms>all</platforms>
                            <runAsAdmin>0</runAsAdmin>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec></windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon></windowsIcon>
                            <windowsPath></windowsPath>
                        </shortcut>
                    </shortcutList>
                </folder>
            </folderList>
        </component>
        <component>
            <name>sm_libs</name>
            <description>SM - libs</description>
            <canBeEdited>0</canBeEdited>
            <requiredSize>90</requiredSize>
            <selected>1</selected>
            <show>1</show>
            <folderList>
                <folder>
                    <description>SM Files</description>
                    <destination>/opt</destination>
                    <name>sm_files</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionDirectory>
                            <allowWildcards>1</allowWildcards>
                            <excludeFiles>
                              /opt/sm/src/*
                              /opt/sm/archives/*
                              /opt/sm/scm/*
                            </excludeFiles>
                            <origin>/opt/sm</origin>
                        </distributionDirectory>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>SM Config</description>
                    <destination>/etc/profile.d</destination>
                    <name>sm_conf</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>/etc/profile.d/sm.sh</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
            </folderList>
        </component>
        <component>
            <name>rvm_rubies</name>
            <description>RVM - rubies</description>
            <canBeEdited>0</canBeEdited>
            <requiredSize>250</requiredSize>
            <selected>1</selected>
            <show>1</show>
            <folderList>
                <folder>
                    <description>RVM Files</description>
                    <destination>/usr/local</destination>
                    <name>rvm_files</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionDirectory>
                            <allowWildcards>1</allowWildcards>
                            <excludeFiles>
                              /usr/local/rvm/repos/*
                              /usr/local/rvm/archives/*
                              /usr/local/rvm/src/*
                            </excludeFiles>
                            <origin>/usr/local/rvm</origin>
                        </distributionDirectory>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>RVM Config - loader</description>
                    <destination>/etc/profile.d</destination>
                    <name>rvm_conf_sh</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>/etc/profile.d/rvm.sh</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>RVM Config - config</description>
                    <destination>/etc/</destination>
                    <name>rvm_conf_rc</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>/etc/rvmrc</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
            </folderList>
        </component>
    </componentList>
    <initializationActionList>
        <setInstallerVariableFromScriptOutput>
            <exec>awk</exec>
            <execArgs>-F: '{if ($3&gt;=500 &amp;&amp; $3&lt;=9999) print $1; }' /etc/passwd</execArgs>
            <name>user_list</name>
            <show>0</show>
            <showMessageOnError>0</showMessageOnError>
            <ruleList>
                <platformTest type="linux"/>
            </ruleList>
        </setInstallerVariableFromScriptOutput>
    </initializationActionList>
    <preInstallationActionList>
        <addGroup>
            <abortOnError>1</abortOnError>
            <groupname>rvm</groupname>
        </addGroup>
    </preInstallationActionList>
    <postInstallationActionList>
        <showInfo>
            <text>Adding users to group 'rvm': ${user_list}.</text>
        </showInfo>
        <foreach>
            <values>${user_list}</values>
            <variables>user_name</variables>
            <actionList>
                <addGroupToUser>
                    <groupname>rvm</groupname>
                    <username>${user_name}</username>
                </addGroupToUser>
            </actionList>
        </foreach>
    </postInstallationActionList>
    <compressionAlgorithm>lzma</compressionAlgorithm>
    <defaultUnixDirectoryPermissions>775</defaultUnixDirectoryPermissions>
    <defaultUnixFilePermissions>664</defaultUnixFilePermissions>
    <defaultUnixGroup>rvm</defaultUnixGroup>
    <enableRollback>1</enableRollback>
    <enableTimestamp>1</enableTimestamp>
    <requireInstallationByRootUser>1</requireInstallationByRootUser>
    <uninstallerDirectory>/opt/rix</uninstallerDirectory>
    <vendor>Rails Installer</vendor>
    <parameterList>
        <parameterGroup>
            <name>git_configuration</name>
            <title>Git configuration</title>
            <explanation>Please enter full name and email address for use in git</explanation>
            <value></value>
            <default></default>
            <parameterList>
                <stringParameter>
                    <name>git_username</name>
                    <description>Full name</description>
                    <explanation></explanation>
                    <value></value>
                    <default></default>
                    <allowEmptyValue>1</allowEmptyValue>
                    <width>30</width>
                </stringParameter>
                <stringParameter>
                    <name>git_email</name>
                    <description>Email</description>
                    <explanation></explanation>
                    <value></value>
                    <default></default>
                    <allowEmptyValue>1</allowEmptyValue>
                    <width>30</width>
                </stringParameter>
            </parameterList>
        </parameterGroup>
    </parameterList>
</project>

